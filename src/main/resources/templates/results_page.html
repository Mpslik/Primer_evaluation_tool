<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Primer Analysis Results</title>
    <link rel="stylesheet" type="text/css" href="/css/styling.css">
</head>
<body>
<div class="container">
    <h1>Analysis Results</h1>

    <!-- Forward Primer Card -->
    <div class="result-box">
        <h2>Forward Primer: <span th:text="${analysis.forwardPrimerName}">Unnamed Forward</span></h2>
        <p>G/C Content: <span th:text="${analysis.gcContentForwardPrimer}">0</span>%</p>
        <p>Melting Point: <span th:text="${analysis.meltingPointForwardPrimer}">0</span>°C</p>
        <p>Max Homopolymer Stretch: <span th:text="${analysis.maxHomopolymerStretchForwardPrimer}">0</span></p>
        <p>Max 3'-Intramolecular Identity: <span th:text="${analysis.max3IntramolecularIdentityForwardPrimer}">0</span></p>
    </div>

    <!-- Reverse Primer Card - Only Display if Reverse Primer is Available -->
    <div class="result-box" th:if="${analysis.reversePrimerName != null && !analysis.reversePrimerName.isEmpty()}">
        <h2>Reverse Primer: <span th:text="${analysis.reversePrimerName}">Unnamed Reverse</span></h2>
        <p>G/C Content: <span th:text="${analysis.gcContentReversePrimer}">0</span>%</p>
        <p>Melting Point: <span th:text="${analysis.meltingPointReversePrimer}">0</span>°C</p>
        <p>Max Homopolymer Stretch: <span th:text="${analysis.maxHomopolymerStretchReversePrimer}">0</span></p>
        <p>Max 3'-Intermolecular Identity: <span th:text="${analysis.max3IntermolecularIdentity}">0</span></p>
        <p>Max 3'-Intramolecular Identity: <span th:text="${analysis.max3IntramolecularIdentityReversePrimer}">0</span></p>
    </div>

    <!-- History Section -->
    <div class="history-box">
        <h2>History of the Last 5 Analyses</h2>
        <ul>
            <li th:each="item : ${history}">
                <a th:href="@{/analysis/{id}(id=${item.id})}">
                    Forward Primer: <span th:text="${item.forwardPrimerName}"></span>
                    <span th:if="${item.reversePrimerName != null && !item.reversePrimerName.isEmpty()}"> | Reverse Primer: <span th:text="${item.reversePrimerName}"></span></span>
                </a>
            </li>
        </ul>
        <a href="/">Analyze another primer</a>
    </div>
</div>
</body>
</html>